# ❓ 常见问题（FAQ）

## 使用问题

### Q1: 生成大文件时速度很慢？

**A:** 这是正常现象。文件生成速度主要受磁盘 I/O 性能限制。项目已使用 100MB 块写入算法优化速度。对于 TB 级别文件，建议在 SSD 上生成。

**优化建议：**
- 使用 SSD 而非机械硬盘
- 关闭其他占用磁盘 I/O 的程序
- 生成到本地磁盘而非网络磁盘

### Q2: 提示"磁盘空间不足"但实际还有空间？

**A:** 可能原因：

1. **目标路径所在磁盘空间不足**（注意：不是系统盘）
   - 检查目标路径所在的磁盘分区
   - 确保该分区有足够空间

2. **文件系统预留空间**
   - 某些系统会预留 5-10% 空间
   - 这部分空间不可用

3. **权限问题导致无法写入**
   - 检查目标目录的写权限
   - 在 macOS/Linux 上可能需要使用 `sudo` 或修改目录权限

### Q3: 如何修改默认端口？

**A:** 编辑 `main.py` 文件，修改 `app.launch()` 中的 `server_port` 参数：

```python
app.launch(
    server_name="0.0.0.0",
    server_port=8080,  # 修改为你想要的端口
    share=False
)
```

### Q4: 支持哪些操作系统？

**A:** 支持 Windows、macOS、Linux 系统。已在以下系统测试：
- macOS 13+
- Windows 10/11
- Ubuntu 20.04+

### Q5: 如何卸载？

**A:** 直接删除项目目录即可。如果使用 `uv` 安装，依赖在虚拟环境中，不会影响系统 Python 环境。

### Q6: 可以在远程服务器上运行吗？

**A:** 可以。启动应用后，可以通过服务器的 IP 地址和端口访问。注意：
- 确保防火墙允许相应端口
- 如果使用 `share=True`，可以通过 Gradio 提供的公共链接访问

## 技术问题

### Q7: 日志文件过大怎么办？

**A:** 可以配置日志轮转（log rotation），或定期清理 `logs/` 目录下的旧日志文件。详见 [日志文档](logging.md)。

### Q8: 如何查看详细的错误信息？

**A:** 
1. 查看日志文件：`logs/filetools.log`
2. 启用 DEBUG 日志级别（修改 `config/logger.py`）
3. 查看控制台输出

### Q9: 生成的文件可以删除吗？

**A:** 可以。生成的文件是普通文件，可以随时删除。删除方式：
- 通过文件管理器手动删除
- 使用命令行：`rm /path/to/file.bin`（macOS/Linux）或 `del C:\path\to\file.bin`（Windows）

### Q10: 支持生成哪些文件格式？

**A:** 工具生成的是二进制文件（`.bin`），但你可以指定任何扩展名。文件内容都是零字节，主要用于测试磁盘空间。

## 故障排除

### 问题：无法启动应用

**解决方案：**
1. 检查 Python 版本：`python --version`（需要 >= 3.11）
2. 检查依赖是否安装：`uv sync` 或 `pip install -e .`
3. 检查端口是否被占用：
   - macOS/Linux: `lsof -i :7860`
   - Windows: `netstat -ano | findstr :7860`
4. 查看日志文件获取详细错误信息

### 问题：文件生成失败

**解决方案：**
1. 检查目标路径是否存在且有写权限
2. 检查磁盘空间是否充足
3. 查看日志文件 `logs/filetools.log` 获取详细错误信息
4. 确保文件路径格式正确（Windows 使用反斜杠，macOS/Linux 使用正斜杠）

### 问题：磁盘监控不显示

**解决方案：**
1. 检查 `psutil` 是否正确安装：`python -c "import psutil; print(psutil.__version__)"`
2. 检查系统权限（某些系统需要管理员权限）
3. 查看日志文件获取错误详情
4. 尝试重启应用

### 问题：浏览器无法访问

**解决方案：**
1. 检查应用是否正常启动（查看控制台输出）
2. 检查防火墙设置
3. 尝试使用 `127.0.0.1:7860` 而非 `localhost:7860`
4. 检查端口是否被其他程序占用

### 问题：依赖安装失败

**解决方案：**
1. 确保 Python 版本 >= 3.11
2. 升级 pip: `python -m pip install --upgrade pip`
3. 使用虚拟环境隔离依赖
4. 检查网络连接（某些地区可能需要代理）

## 性能问题

### Q11: 为什么生成速度比预期慢？

**A:** 文件生成速度受以下因素影响：
- **磁盘类型**：SSD 比机械硬盘快很多
- **磁盘使用率**：其他程序占用 I/O 会影响速度
- **文件系统**：不同文件系统性能不同
- **系统负载**：CPU 和内存使用率也会影响

### Q12: 生成大文件时系统变慢？

**A:** 这是正常现象，因为：
- 文件生成会占用大量磁盘 I/O
- 可能触发系统缓存机制
- 建议在系统空闲时生成大文件

## 其他问题

### Q13: 可以批量生成文件吗？

**A:** 当前版本不支持批量生成，需要逐个生成。未来版本可能会添加此功能。

### Q14: 生成的文件有实际内容吗？

**A:** 生成的文件内容都是零字节（`\x00`），主要用于测试磁盘空间。如果需要特定内容，可以手动修改文件。

### Q15: 如何贡献代码？

**A:** 详见 [贡献指南](../README.md#贡献) 或查看项目的 [CONTRIBUTING.md](CONTRIBUTING.md)。

---

如果以上问题无法解决你的问题，请：
1. 查看日志文件获取详细错误信息
2. 在 [GitHub Issues](https://github.com/fishzjp/FileTools/issues) 提交 Issue
3. 提供详细的错误信息和复现步骤

